const express = require("express")

const app = express();

const port = 3100;

let inputHandler=((req,res,next)=>{
    if(req.query.city){
        if(/^[a-zA-Z]*$/.test(req.query.city)){
            next()
        }else{
            res.end("only aphabetic values valid")
        }
    }else{
        res.send("city is require")
    }
})


app.get("/",(req,res)=>{

    res.send("page1")
   
});

app.get(/.*script$/,inputHandler,(req,res)=>{
    
    console.log(req.query);

    let name = req.query.name
    let age = req.query.age
    let city = req.query.city

    res.send({"name":name,"Greeting" :`  hello   ${name}`,"age":age,"city":city})
})

app.listen(port,()=>{
    console.log("server is running here:3100")
})

